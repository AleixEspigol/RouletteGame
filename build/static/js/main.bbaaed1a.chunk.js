(this.webpackJsonproulettegame=this.webpackJsonproulettegame||[]).push([[0],{220:function(e,t){},229:function(e,t){},247:function(e,t){},249:function(e,t){},266:function(e,t){},267:function(e,t){},331:function(e,t){},333:function(e,t){},342:function(e,t){},344:function(e,t){},369:function(e,t){},371:function(e,t){},372:function(e,t){},378:function(e,t){},391:function(e,t){},403:function(e,t){},406:function(e,t){},411:function(e,t){},422:function(e,t){},425:function(e,t){},479:function(e,t,n){},481:function(e,t,n){"use strict";n.r(t);var s=n(13),i=n.n(s),a=n(196),c=n.n(a),o=n(16),r=n.n(o),l=n(40),d=n(2),u=n(3),h=n(19),m=n(7),b=n(6),p=n(29),j=n.n(p),y=n(200),x=n.n(y),O=new(new j.a(window.ethereum).eth.Contract)([{inputs:[],stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"balance",type:"uint256"}],name:"needMoney",type:"event"},{inputs:[{internalType:"uint256",name:"betType",type:"uint256"},{internalType:"uint256",name:"number",type:"uint256"},{internalType:"uint256",name:"betAmount",type:"uint256"}],name:"bet",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"calculateRandomNumber",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"depositContract",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"earnMoney",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getListBets",outputs:[{components:[{internalType:"uint256",name:"betType",type:"uint256"},{internalType:"uint256",name:"number",type:"uint256"},{internalType:"uint256",name:"betAmount",type:"uint256"},{internalType:"address",name:"user",type:"address"}],internalType:"struct RouletteApp.Bet[]",name:"",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getWinningNumbers",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"listBets",outputs:[{internalType:"uint256",name:"betType",type:"uint256"},{internalType:"uint256",name:"number",type:"uint256"},{internalType:"uint256",name:"betAmount",type:"uint256"},{internalType:"address",name:"user",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxBet",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maximumAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minBet",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"necessaryBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"payReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"rangeOfNumbers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"maxB",type:"uint256"},{internalType:"uint256",name:"minB",type:"uint256"}],name:"setBettingSettings",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"spin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"winners",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"winningNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"winningNumbers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],"0x32646fD9FB3eE847E41F4e5105ED6dA708b0bFc6"),f=(n(479),n(0)),w=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=(this.props.winningNumbers.length-5>0?this.props.winningNumbers.slice(this.props.winningNumbers.length-5):this.props.winningNumbers).map((function(t){return Object(f.jsx)("tr",{children:Object(f.jsx)("td",{className:e.props.colorNumbers(t),children:Object(f.jsx)("div",{children:t},t.toString())},t.toString())},t.toString())}));return Object(f.jsx)("div",{className:"recentNumbers",children:Object(f.jsx)("table",{className:"winningNumbers",children:Object(f.jsxs)("tbody",{children:[Object(f.jsx)("tr",{children:Object(f.jsx)("td",{children:"Last Winning Numbers"})}),t]})})})}}]),n}(s.Component),M=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.function()}},{key:"handleChange",value:function(e){this.props.update(e.target.value,0)}},{key:"render",value:function(){return Object(f.jsx)("div",{id:"myModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("span",{className:"close",children:"\xd7"}),Object(f.jsxs)("h2",{children:["How much do you want to bet on ",this.props.betText,"?"]}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("input",{type:"number",id:"bet_amount",min:this.props.minBet,max:this.props.maxBet,step:"0.1",onChange:this.handleChange.bind(this),required:!0})," ethers"]}),Object(f.jsx)("button",{id:"cancel_bet",children:"Cancel"}),Object(f.jsx)("input",{type:"submit",value:"Confirm"})]})]})})}}]),n}(s.Component),v=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.function()}},{key:"handleChange",value:function(e){"min_bet"===e.target.id?this.props.update(e.target.value,1):this.props.update(e.target.value,2)}},{key:"render",value:function(){return Object(f.jsx)("div",{id:"myModalChangeParams",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("span",{className:"closeP",children:"\xd7"}),Object(f.jsx)("h2",{children:"Modification of parameters"}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit.bind(this),children:[Object(f.jsxs)("p",{children:["Minimum bet: ",Object(f.jsx)("input",{type:"number",id:"min_bet",min:"0.1",max:"5",step:"0.1",onChange:this.handleChange.bind(this),required:!0})," ethers"]}),Object(f.jsxs)("p",{children:["Maximum bet: ",Object(f.jsx)("input",{type:"number",id:"max_bet",min:"1",max:"10",step:"0.1",onChange:this.handleChange.bind(this),required:!0})," ethers"]}),Object(f.jsx)("button",{id:"cancel_params",children:"Cancel"}),Object(f.jsx)("input",{type:"submit",value:"Confirm"})]})]})})}}]),n}(s.Component),g=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.bets.map((function(t){return Object(f.jsxs)("p",{children:[t.betAmount/1e18," ethers ",e.props.sintaxis(t.betType,t.number)]},t.betType)}));return Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)("h2",{children:"PLACE YOUR BETS"}),Object(f.jsxs)("h4",{id:"minBet",children:["Minimum bet: ",this.props.minBet," ethers"]}),Object(f.jsxs)("h4",{id:"maxBet",children:["Maximum bet: ",this.props.maxBet," ethers"]}),!0===this.props.isManager&&Object(f.jsx)("img",{id:"settings",src:"settings.png",height:"15",alt:"paramsSettings",onClick:this.props.function}),Object(f.jsx)("h4",{children:"YOUR BETS:"}),t]})}}]),n}(s.Component),N=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{id:"myModalSpin",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("span",{className:"closeS",children:"\xd7"}),Object(f.jsx)("h2",{children:"Are you sure you want to spin the roulette?"}),Object(f.jsx)("button",{id:"cancel_spin",children:"Cancel"}),Object(f.jsx)("button",{id:"accept_spin",onClick:this.props.function,children:"Confirm"})]})})}}]),n}(s.Component),B=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).state={betNumber:0,betText:"",typeBet:null,showNumber:!1,amountEarned:0,betAmount:0,minBet:0,maxBet:0,winner:!1},s.updateParams=s.updateParams.bind(Object(h.a)(s)),s.bet=s.bet.bind(Object(h.a)(s)),s.modifyParams=s.modifyParams.bind(Object(h.a)(s)),s.spin=s.spin.bind(Object(h.a)(s)),s.colorNumbers=s.colorNumbers.bind(Object(h.a)(s)),s.betSintaxis=s.betSintaxis.bind(Object(h.a)(s)),s}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var n,s,i,a,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new j.a(window.ethereum),e.next=3,O.methods.winners(this.props.account).call();case 3:return s=e.sent,e.next=6,O.methods.winningNumber().call();case 6:i=e.sent,a=Number(n.utils.toWei(this.props.totalAmount.toString(),"ether")),c=s-a,Number(n.utils.fromWei(s))>this.props.totalAmount?(this.setState({winner:!0,amountEarned:Number(n.utils.fromWei(c.toString()))}),!0===this.state.winner&&(o="CONGRATULATION YOU WIN ".concat(this.state.amountEarned," ethers!"),document.getElementById("myModalM").style.display="none",this.props.update(o,0,Number(n.utils.fromWei(s))),this.props.update(o,1,i),this.props.function("myModalM","closeM",""))):this.props.winningNumber!=i&&!1===this.state.winner&&null!=t.winningNumber&&Number(n.utils.fromWei(s))===this.props.totalAmount&&(document.getElementById("myModalM").style.display="none",this.props.update("Oh you have lost... try and see if you have more luck next time!",1,i),this.props.function("myModalM","closeM",""));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateParams",value:function(e,t){0===t?this.setState({betAmount:e}):1===t?this.setState({minBet:e}):this.setState({maxBet:e})}},{key:"bet",value:function(){document.getElementById("myModal").style.display="none",this.props.update("Loading..."),this.props.function("myModalM","closeM","");var e=this,t=1e18*this.state.betAmount;O.methods.bet(this.state.typeBet,this.state.betNumber,t.toString()).send({from:this.props.account,value:t}).on("receipt",(function(t){var n=new j.a(window.ethereum);O.methods.necessaryBalance().call().then((function(t){document.getElementById("myModalM").style.display="none";var s=Number(n.utils.fromWei(t));e.props.necessaryBalance<=e.props.depositContract&&e.props.necessaryBalance!=s?(e.props.update("The transaction completed successfully"),e.props.function("myModalM","closeM","")):(e.props.update("There aren't enough funds to accept the transaction"),e.props.function("myModalM","closeM",""))}))})).on("error",(function(t,n){document.getElementById("myModalM").style.display="none",e.props.update("The transaction wasn't completed successfully"),e.props.function("myModalM","closeM","")})),O.events.needMoney().on("data",function(){var t=Object(l.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.needMoney(n.returnValues.balance);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"modifyParams",value:function(){document.getElementById("myModalChangeParams").style.display="none",this.props.update("Loading..."),this.props.function("myModalM","closeM","");var e=this,t=1e18*this.state.maxBet,n=1e18*this.state.minBet;O.methods.setBettingSettings(t.toString(),n.toString()).send({from:this.props.account}).on("receipt",(function(t){document.getElementById("myModalM").style.display="none",e.props.update("The transaction completed successfully"),e.props.function("myModalM","closeM","")})).on("error",(function(t,n){document.getElementById("myModalM").style.display="none",e.props.update("The transaction wasn't completed successfully"),e.props.function("myModalM","closeM","")}))}},{key:"calculateRandomNumber",value:function(){this.props.update("Loading..."),this.props.function("myModalM","closeM","");var e=this;O.methods.calculateRandomNumber().send({from:this.props.account,gas:"200000"}).on("receipt",(function(t){document.getElementById("myModalM").style.display="none",e.props.function("myModalSpin","closeS","cancel_spin")})).on("error",(function(t,n){document.getElementById("myModalSpin").style.display="none",e.props.update("The transaction wasn't completed successfully"),e.props.function("myModalM","closeM","")}))}},{key:"spin",value:function(){document.getElementById("myModalSpin").style.display="none",this.props.update("Loading..."),this.props.function("myModalM","closeM","");var e=this;O.methods.spin().send({from:this.props.account,gas:"700000"}).on("receipt",(function(t){document.getElementById("myModalM").style.display="none",e.props.update("The transaction completed successfully"),e.props.function("myModalM","closeM",""),e.setState({showNumber:!0,winner:!1})})).on("error",(function(t,n){document.getElementById("myModalM").style.display="none",e.props.update("The transaction wasn't completed successfully"),e.props.function("myModalM","closeM","")}))}},{key:"showBet",value:function(e,t,n){this.setState({betText:e,betNumber:t,typeBet:n}),this.props.function("myModal","close","cancel_bet")}},{key:"colorNumbers",value:function(e){return 0==e?"green":e>=1&&e<=10||e>=20&&e<=28||19==e?e%2===1?"red":"black":e%2===0?"red":"black"}},{key:"betSintaxis",value:function(e,t){return"0"===e?"on number "+t:"1"===e?"0"===t?"on Even number":"on Odd number":"0"===t?"on Red number":"on Black number"}},{key:"render",value:function(){var e={background:this.colorNumbers(this.props.winningNumber)};return Object(f.jsxs)("div",{className:"tableRoulette",children:[Object(f.jsx)(g,{sintaxis:this.betSintaxis,bets:this.props.bets,minBet:this.props.minBet,maxBet:this.props.maxBet,isManager:this.props.isManager,function:this.props.function.bind(this,"myModalChangeParams","closeP","cancel_params")}),Object(f.jsx)("div",{className:"betsTable",children:Object(f.jsx)("table",{border:"0",cellSpacing:"0",cellPadding:"0",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsxs)("td",{rowSpan:"4",children:[Object(f.jsx)("img",{id:"roulette",src:"roulette.png",alt:"roulette"}),!0===this.state.showNumber&&Object(f.jsx)("div",{className:"winnerNumber",style:e,children:this.props.winningNumber})]}),Object(f.jsx)("td",{className:"zb",rowSpan:"5",children:Object(f.jsx)("div",{})}),Object(f.jsx)("td",{rowSpan:"3",id:"zero",onClick:this.showBet.bind(this,"number 0",0,0),children:Object(f.jsx)("div",{children:"0"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 3",3,0),children:Object(f.jsx)("div",{children:"3"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 6",6,0),children:Object(f.jsx)("div",{children:"6"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 9",9,0),children:Object(f.jsx)("div",{children:"9"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 12",12,0),children:Object(f.jsx)("div",{children:"12"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 15",15,0),children:Object(f.jsx)("div",{children:"15"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 18",18,0),children:Object(f.jsx)("div",{children:"18"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 21",21,0),children:Object(f.jsx)("div",{children:"21"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 24",24,0),children:Object(f.jsx)("div",{children:"24"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 27",27,0),children:Object(f.jsx)("div",{children:"27"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 30",30,0),children:Object(f.jsx)("div",{children:"30"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 33",33,0),children:Object(f.jsx)("div",{children:"33"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 36",36,0),children:Object(f.jsx)("div",{children:"36"})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 2",2,0),children:Object(f.jsx)("div",{children:"2"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 5",5,0),children:Object(f.jsx)("div",{children:"5"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 8",8,0),children:Object(f.jsx)("div",{children:"8"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 11",11,0),children:Object(f.jsx)("div",{children:"11"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 14",14,0),children:Object(f.jsx)("div",{children:"14"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 17",17,0),children:Object(f.jsx)("div",{children:"17"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 20",20,0),children:Object(f.jsx)("div",{children:"20"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 23",23,0),children:Object(f.jsx)("div",{children:"23"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 26",26,0),children:Object(f.jsx)("div",{children:"26"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 29",29,0),children:Object(f.jsx)("div",{children:"29"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 32",32,0),children:Object(f.jsx)("div",{children:"32"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 35",35,0),children:Object(f.jsx)("div",{children:"35"})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 1",1,0),children:Object(f.jsx)("div",{children:"1"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 4",4,0),children:Object(f.jsx)("div",{children:"4"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 7",7,0),children:Object(f.jsx)("div",{children:"7"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 10",10,0),children:Object(f.jsx)("div",{children:"10"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 13",13,0),children:Object(f.jsx)("div",{children:"13"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 16",16,0),children:Object(f.jsx)("div",{children:"16"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 19",19,0),children:Object(f.jsx)("div",{children:"19"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 22",22,0),children:Object(f.jsx)("div",{children:"22"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 25",25,0),children:Object(f.jsx)("div",{children:"25"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 28",28,0),children:Object(f.jsx)("div",{children:"28"})}),Object(f.jsx)("td",{className:"black",onClick:this.showBet.bind(this,"number 31",31,0),children:Object(f.jsx)("div",{children:"31"})}),Object(f.jsx)("td",{className:"red",onClick:this.showBet.bind(this,"number 34",34,0),children:Object(f.jsx)("div",{children:"34"})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{rowSpan:"2",children:"\xa0"}),Object(f.jsx)("td",{colSpan:"4",className:"lor",onClick:this.showBet.bind(this,"even number",0,1),children:"Even"}),Object(f.jsx)("td",{colSpan:"2",className:"a_red",onClick:this.showBet.bind(this,"red number",0,2),children:"Red"}),Object(f.jsx)("td",{colSpan:"2",className:"a_black",onClick:this.showBet.bind(this,"black number",1,2),children:"Black"}),Object(f.jsx)("td",{colSpan:"4",className:"lor",onClick:this.showBet.bind(this,"odd number",1,1),children:"Odd"}),Object(f.jsx)("td",{children:"\xa0"})]}),Object(f.jsx)("tr",{children:Object(f.jsx)("td",{children:Object(f.jsx)("button",{id:"spin",disabled:this.props.bets.length<=0,onClick:this.calculateRandomNumber.bind(this),children:"Spin"})})})]})})}),Object(f.jsx)(w,{winningNumbers:this.props.winningNumbers,colorNumbers:this.colorNumbers}),Object(f.jsx)(M,{minBet:this.props.minBet,maxBet:this.props.maxBet,betText:this.state.betText,function:this.bet,update:this.updateParams}),Object(f.jsx)(v,{function:this.modifyParams,totalAmount:this.props.totalAmount,update:this.updateParams}),Object(f.jsx)(N,{function:this.spin})]})}}]),n}(s.Component),k=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{id:"myModalEarn",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("span",{className:"closeE",children:"\xd7"}),Object(f.jsxs)("h2",{children:["Are you sure you want to withdraw ",this.props.totalAmount," ethers?"]}),this.props.amountEarned<=0&&Object(f.jsx)("p",{className:"error_messsage",children:"There aren't enough funds to extract"}),Object(f.jsx)("button",{id:"cancel_earn",children:"Cancel"}),Object(f.jsx)("button",{disabled:this.props.totalAmount<=0,id:"accept_earn",onClick:this.props.function,children:"Confirm"})]})})}}]),n}(s.Component),C=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{id:"myModalBalance",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("span",{className:"closeB",children:"\xd7"}),Object(f.jsx)("h2",{children:"Are you sure you want to withdraw money from the smart contract?"}),Object(f.jsxs)("p",{children:["Smart contract balance: ",this.props.depositContract," ethers"]}),this.props.depositContract-this.props.maximumAmount<0&&Object(f.jsx)("p",{className:"error_messsage",children:"There aren't enough funds to extract"}),Object(f.jsx)("button",{id:"cancel_balance",children:"Cancel"}),Object(f.jsx)("button",{disabled:this.props.depositContract-this.props.maximumAmount<0,id:"accept_balance",onClick:this.props.function,children:"Confirm"})]})})}}]),n}(s.Component),T=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{id:"myModalDestroy",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("span",{className:"closeD",children:"\xd7"}),Object(f.jsx)("h2",{children:"Are you sure you want to destroy the smart contract?"}),Object(f.jsx)("button",{id:"cancel_destroy",children:"Cancel"}),Object(f.jsx)("button",{id:"accept_destroy",onClick:this.props.function,children:"Confirm"})]})})}}]),n}(s.Component),S=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{id:"myModalM",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("span",{className:"closeM",children:"\xd7"}),Object(f.jsx)("h2",{children:this.props.text})]})})}}]),n}(s.Component),E=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).state={account:"Please connect to MetaMask",balance:0,maxBet:0,minBet:0,totalAmount:0,isManager:!1,winningNumbers:[],depositContract:0,maximumAmount:0,winningNumber:null,bets:[],textInfo:"",necessaryBalance:0},s.needMoney=s.needMoney.bind(Object(h.a)(s)),s.updateParams=s.updateParams.bind(Object(h.a)(s)),s.payReward=s.payReward.bind(Object(h.a)(s)),s.earnMoney=s.earnMoney.bind(Object(h.a)(s)),s.getDeposit=s.getDeposit.bind(Object(h.a)(s)),s.showModal=s.showModal.bind(Object(h.a)(s)),s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadWeb3();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadBlockchainData",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t,n,s,i,a,c,o,l,d,u,h,m,b,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new j.a(window.ethereum),e.next=3,window.ethereum.request({method:"eth_accounts"});case 3:return n=e.sent,e.next=6,window.ethereum.request({method:"eth_getBalance",params:[n[0]]});case 6:return s=e.sent,i=!1,e.next=10,O.methods.manager().call();case 10:return a=e.sent,n[0]===a.toLowerCase()&&(i=!0),e.next=14,O.methods.minBet().call();case 14:return c=e.sent,e.next=17,O.methods.maxBet().call();case 17:return o=e.sent,e.next=20,O.methods.getWinningNumbers().call();case 20:return l=e.sent,e.next=23,O.methods.winners(n[0]).call();case 23:return d=e.sent,e.next=26,O.methods.maximumAmount().call();case 26:return u=e.sent,e.next=29,O.methods.depositContract().call();case 29:return h=e.sent,e.next=32,O.methods.getListBets().call();case 32:return m=e.sent,e.next=35,O.methods.necessaryBalance().call();case 35:return b=e.sent,e.next=38,O.methods.winningNumber().call();case 38:p=e.sent,this.setState({account:n[0],balance:Number(t.utils.fromWei(s)).toFixed(3),isManager:i,necessaryBalance:Number(t.utils.fromWei(b)),winningNumber:p,bets:m,maximumAmount:Number(t.utils.fromWei(u)),depositContract:Number(t.utils.fromWei(h)),winningNumbers:l,minBet:Number(t.utils.fromWei(c)),maxBet:Number(t.utils.fromWei(o)),totalAmount:Number(t.utils.fromWei(d))});case 40:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeb3",value:function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=8;break}return window.web=new j.a(window.ethereum),e.next=4,window.ethereum.request({method:"eth_requestAccounts"}).catch((function(e){4001===e.code&&window.alert("Please connect to MetaMask.")}));case 4:return e.next=6,this.loadBlockchainData();case 6:e.next=9;break;case 8:window.web3?window.web3=new j.a(window.web3.currentProvider):window.alert("Non-Ethereum browser detected. Please install Metamask");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"needMoney",value:function(e){var t={balance:e/1e18};x.a.send("gmail","roulette_contract",t,"user_jZyVswZ8ZHRTtKvBq3tiK").then((function(e){console.log(e.text)}),(function(e){console.log(e.text)}))}},{key:"updateParams",value:function(e,t,n){0===t?n>0&&this.setState({totalAmount:n}):1===t&&this.setState({winningNumber:n}),this.setState({textInfo:e})}},{key:"payReward",value:function(){document.getElementById("myModalEarn").style.display="none",this.setState({textInfo:"Loading..."}),this.showModal("myModalM","closeM","");var e=this;O.methods.payReward().send({from:this.state.account}).on("receipt",(function(t){document.getElementById("myModalM").style.display="none",e.setState({textInfo:"The transaction completed successfully"}),e.showModal("myModalM","closeM","")})).on("error",(function(t,n){document.getElementById("myModalM").style.display="none",e.setState({textInfo:"The transaction wasn't completed successfully"}),e.showModal("myModalM","closeM","")}))}},{key:"earnMoney",value:function(){document.getElementById("myModalBalance").style.display="none",this.setState({textInfo:"Loading..."}),this.showModal("myModalM","closeM","");var e=this;O.methods.earnMoney().send({from:this.state.account}).on("receipt",(function(t){document.getElementById("myModalM").style.display="none",e.setState({textInfo:"The transaction completed successfully"}),e.showModal("myModalM","closeM","")})).on("error",(function(t,n){document.getElementById("myModalM").style.display="none",e.setState({textInfo:"The transaction wasn't completed successfully"}),e.showModal("myModalM","closeM","")}))}},{key:"getDeposit",value:function(){document.getElementById("myModalDestroy").style.display="none",this.setState({textInfo:"Loading..."}),this.showModal("myModalM","closeM","");var e=this;O.methods.getDeposit().send({from:this.state.account}).on("receipt",(function(t){document.getElementById("myModalM").style.display="none",e.setState({textInfo:"The transaction completed successfully"}),e.showModal("myModalM","closeM","")})).on("error",(function(t,n){document.getElementById("myModalM").style.display="none",e.setState({textInfo:"The transaction wasn't completed successfully"}),e.showModal("myModalM","closeM","")}))}},{key:"showModal",value:function(e,t,n){var s=document.getElementById(e),i=document.getElementsByClassName(t)[0],a=document.getElementById(n);s.style.display="block",null!==a&&(a.onclick=function(){s.style.display="none",window.location.reload()}),i.onclick=function(){s.style.display="none",window.location.reload()},window.onclick=function(e){e.target===s&&(s.style.display="none",window.location.reload())}}},{key:"render",value:function(){var e=this;return window.ethereum&&window.ethereum.on("accountsChanged",(function(t){e.loadBlockchainData()})),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsxs)("header",{children:[Object(f.jsx)("img",{id:"logo",src:"ethereum.png",alt:"logo",height:"140"}),!0===this.state.isManager&&Object(f.jsx)("h4",{className:"destroyCon",onClick:this.showModal.bind(this,"myModalDestroy","closeD","cancel_destroy"),children:"Destroy Contract"}),!0===this.state.isManager&&Object(f.jsx)("h4",{className:"earnMoney",onClick:this.showModal.bind(this,"myModalBalance","closeB","cancel_balance"),children:"Contract Balance"}),Object(f.jsx)("h1",{className:"title",children:"Roulette Game"}),Object(f.jsxs)("div",{className:"userInfo",children:[Object(f.jsxs)("p",{children:["Address: ",this.state.account]}),Object(f.jsxs)("p",{children:["Account Balance: ",this.state.balance," ethers"]}),Object(f.jsxs)("div",{className:"withdrawal",children:[Object(f.jsxs)("p",{children:["Amount Earned: ",this.state.totalAmount," ethers"]}),Object(f.jsx)("button",{id:"withdrawalButton",disabled:this.state.totalAmount<=0,onClick:this.showModal.bind(this,"myModalEarn","closeE","cancel_earn"),children:"Withdrawal"})]})]})]}),Object(f.jsx)(B,{winningNumbers:this.state.winningNumbers,minBet:this.state.minBet,maxBet:this.state.maxBet,isManager:this.state.isManager,account:this.state.account,depositContract:this.state.depositContract,totalAmount:this.state.totalAmount,function:this.showModal,needMoney:this.needMoney,bets:this.state.bets,winningNumber:this.state.winningNumber,update:this.updateParams,necessaryBalance:this.state.necessaryBalance}),Object(f.jsx)(T,{function:this.getDeposit}),Object(f.jsx)(C,{function:this.earnMoney,depositContract:this.state.depositContract,maximumAmount:this.state.maximumAmount}),Object(f.jsx)(k,{function:this.payReward,totalAmount:this.state.totalAmount}),Object(f.jsx)(S,{text:this.state.textInfo})]})}}]),n}(s.Component);c.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root"))}},[[481,1,2]]]);
//# sourceMappingURL=main.bbaaed1a.chunk.js.map